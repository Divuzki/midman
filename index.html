<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Middleman - The Secure Way to Wager</title>
    <meta
      name="description"
      content="Middleman is a secure escrow platform for p2p wagers and agreements"
    />
    <link rel="shortcut icon" type="image/png" href="/favicon.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3191EB",
              secondary: "#05ECF4",
              background: "#01032D",
              dark: "#01032D",
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>

    <style>
      body {
        background-color: #01032d;
        color: #ffffff;
      }
      .gradient-text {
        background: linear-gradient(90deg, #3191eb 0%, #05ecf4 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .btn-primary {
        background: linear-gradient(90deg, #3191eb 0%, #2563eb 100%);
        transition: all 0.3s ease;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(49, 145, 235, 0.4);
      }
    </style>
  </head>
  <body class="antialiased font-sans">
    <!-- Navigation -->
    <nav class="absolute top-0 w-full z-50 py-6">
      <div class="container mx-auto px-6 flex justify-between items-center">
        <div class="flex items-center space-x-2">
          <!-- Simple Logo Placeholder -->
          <div
            class="w-8 h-8 rounded bg-white flex items-center justify-center"
          >
            <img
              src="./logo.png"
              alt="Middleman Logo"
              class="w-6 h-6 object-contain"
            />
          </div>
          <span class="text-xl font-bold tracking-tight">Middleman</span>
        </div>
        <!-- <a href="#download" class="hidden md:inline-block px-6 py-2 rounded-full border border-secondary text-secondary hover:bg-secondary hover:text-dark transition-colors font-semibold">
                Get App
            </a> -->
      </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
      <!-- Background Glow -->
      <div
        class="absolute top-0 left-1/2 transform -translate-x-1/2 w-full h-full z-0 opacity-20 pointer-events-none"
      >
        <div
          class="absolute top-0 left-1/4 w-96 h-96 bg-primary rounded-full blur-3xl mix-blend-screen"
        ></div>
        <div
          class="absolute bottom-0 right-1/4 w-96 h-96 bg-secondary rounded-full blur-3xl mix-blend-screen"
        ></div>
      </div>

      <div class="container mx-auto px-6 relative z-10 text-center">
        <h1
          class="text-5xl md:text-7xl font-extrabold tracking-tight mb-6 leading-tight"
        >
          The Secure Way to <br />
          <span class="gradient-text">Wager & Win</span>
        </h1>
        <p
          class="text-xl md:text-2xl text-gray-300 mb-10 max-w-2xl mx-auto font-light"
        >
          Create agreements, challenge friends, and secure your funds with
          Middleman. The trusted escrow platform for your everyday wagers.
        </p>

        <div
          class="flex flex-col sm:flex-row justify-center items-center gap-4"
          id="download"
        >
          <!-- iOS Placeholder Button -->
          <a
            href="#"
            class="btn-primary px-8 py-4 rounded-xl flex items-center space-x-3 w-full sm:w-auto justify-center group"
          >
            <svg
              class="w-6 h-6"
              fill="currentColor"
              viewBox="-1.5 0 20 20"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <defs></defs>
                <g
                  id="Page-1"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                >
                  <g
                    id="Dribbble-Light-Preview"
                    transform="translate(-102.000000, -7439.000000)"
                    fill="#ffffff"
                  >
                    <g id="icons" transform="translate(56.000000, 160.000000)">
                      <path
                        d="M57.5708873,7282.19296 C58.2999598,7281.34797 58.7914012,7280.17098 58.6569121,7279 C57.6062792,7279.04 56.3352055,7279.67099 55.5818643,7280.51498 C54.905374,7281.26397 54.3148354,7282.46095 54.4735932,7283.60894 C55.6455696,7283.69593 56.8418148,7283.03894 57.5708873,7282.19296 M60.1989864,7289.62485 C60.2283111,7292.65181 62.9696641,7293.65879 63,7293.67179 C62.9777537,7293.74279 62.562152,7295.10677 61.5560117,7296.51675 C60.6853718,7297.73474 59.7823735,7298.94772 58.3596204,7298.97372 C56.9621472,7298.99872 56.5121648,7298.17973 54.9134635,7298.17973 C53.3157735,7298.17973 52.8162425,7298.94772 51.4935978,7298.99872 C50.1203933,7299.04772 49.0738052,7297.68074 48.197098,7296.46676 C46.4032359,7293.98379 45.0330649,7289.44985 46.8734421,7286.3899 C47.7875635,7284.87092 49.4206455,7283.90793 51.1942837,7283.88393 C52.5422083,7283.85893 53.8153044,7284.75292 54.6394294,7284.75292 C55.4635543,7284.75292 57.0106846,7283.67793 58.6366882,7283.83593 C59.3172232,7283.86293 61.2283842,7284.09893 62.4549652,7285.8199 C62.355868,7285.8789 60.1747177,7287.09489 60.1989864,7289.62485"
                        id="apple-[#173]"
                      ></path>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
            <span class="text-lg font-bold">Download for iOS</span>
          </a>

          <!-- Android Placeholder Button -->
          <a
            href="#"
            class="px-8 py-4 rounded-xl border border-gray-600 bg-gray-800/50 hover:bg-gray-700/50 flex items-center space-x-3 w-full sm:w-auto justify-center transition-all"
          >
            <svg
              class="w-6 h-6 text-green-400"
              aria-hidden="true"
              viewBox="0 0 40 40"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path fill="none" d="M0,0h40v40H0V0z"></path>
              <g>
                <path
                  d="M19.7,19.2L4.3,35.3c0,0,0,0,0,0c0.5,1.7,2.1,3,4,3c0.8,0,1.5-0.2,2.1-0.6l0,0l17.4-9.9L19.7,19.2z"
                  fill="#EA4335"
                ></path>
                <path
                  d="M35.3,16.4L35.3,16.4l-7.5-4.3l-8.4,7.4l8.5,8.3l7.5-4.2c1.3-0.7,2.2-2.1,2.2-3.6C37.5,18.5,36.6,17.1,35.3,16.4z"
                  fill="#FBBC04"
                ></path>
                <path
                  d="M4.3,4.7C4.2,5,4.2,5.4,4.2,5.8v28.5c0,0.4,0,0.7,0.1,1.1l16-15.7L4.3,4.7z"
                  fill="#4285F4"
                ></path>
                <path
                  d="M19.8,20l8-7.9L10.5,2.3C9.9,1.9,9.1,1.7,8.3,1.7c-1.9,0-3.6,1.3-4,3c0,0,0,0,0,0L19.8,20z"
                  fill="#34A853"
                ></path>
              </g>
            </svg>
            <span class="text-lg font-bold">Download for Android</span>
          </a>
        </div>

        <div class="mt-8 text-sm text-gray-500">
          <p>
            Already have the app?
            <a href="midman://" class="text-secondary hover:underline"
              >Open Middleman</a
            >
          </p>
        </div>
      </div>
    </header>

    <!-- Features Grid -->
    <section class="py-20 bg-opacity-50 bg-black/20">
      <div class="container mx-auto px-6">
        <div class="grid md:grid-cols-3 gap-8">
          <!-- Feature 1 -->
          <div
            class="p-8 rounded-2xl bg-white/5 border border-white/10 hover:border-primary/50 transition-colors"
          >
            <div
              class="w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center mb-4 text-primary"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold mb-2">Secure Escrow</h3>
            <p class="text-gray-400">
              Funds are held safely until the outcome is verified. No more
              chasing payments.
            </p>
          </div>
          <!-- Feature 2 -->
          <div
            class="p-8 rounded-2xl bg-white/5 border border-white/10 hover:border-secondary/50 transition-colors"
          >
            <div
              class="w-12 h-12 bg-secondary/20 rounded-xl flex items-center justify-center mb-4 text-secondary"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold mb-2">Real-time Chat</h3>
            <p class="text-gray-400">
              Discuss terms, send trash talk, and resolve disputes directly in
              the app.
            </p>
          </div>
          <!-- Feature 3 -->
          <div
            class="p-8 rounded-2xl bg-white/5 border border-white/10 hover:border-purple-500/50 transition-colors"
          >
            <div
              class="w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-4 text-purple-400"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold mb-2">Instant Payouts</h3>
            <p class="text-gray-400">
              Withdraw your winnings instantly to your connected payout account.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section class="py-20 relative overflow-hidden">
      <!-- Background elements -->
      <div
        class="absolute top-0 left-1/2 transform -translate-x-1/2 w-full h-full z-0 opacity-10 pointer-events-none"
      >
        <div
          class="absolute top-1/4 right-0 w-64 h-64 bg-primary rounded-full blur-3xl mix-blend-screen"
        ></div>
        <div
          class="absolute bottom-1/4 left-0 w-64 h-64 bg-secondary rounded-full blur-3xl mix-blend-screen"
        ></div>
      </div>

      <div class="container mx-auto px-6 relative z-10">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-5xl font-bold mb-4">How It Works</h2>
          <p class="text-xl text-gray-400">
            Five simple steps to secure your wager.
          </p>
        </div>

        <!-- Steps -->
        <div class="max-w-4xl mx-auto space-y-12 mb-20">
          <!-- Step 1 -->
          <div class="flex flex-col md:flex-row gap-6 items-start">
            <div
              class="flex-shrink-0 w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-xl border border-primary/30"
            >
              1
            </div>
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-2 text-white">
                Create an Agreement or Wager
              </h3>
              <p class="text-gray-300 text-lg leading-relaxed">
                One party sets the terms — outcome, stake amount, and deadline.
                Middleman acts as a neutral escrow, not a participant.
              </p>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="flex flex-col md:flex-row gap-6 items-start">
            <div
              class="flex-shrink-0 w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center text-secondary font-bold text-xl border border-secondary/30"
            >
              2
            </div>
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-2 text-white">
                Both Parties Fund the Escrow
              </h3>
              <p class="text-gray-300 text-lg leading-relaxed">
                Each participant deposits their stake. Funds are locked securely
                and cannot be accessed by either party.
              </p>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="flex flex-col md:flex-row gap-6 items-start">
            <div
              class="flex-shrink-0 w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-xl border border-primary/30"
            >
              3
            </div>
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-2 text-white">
                Outcome Is Verified
              </h3>
              <p class="text-gray-300 text-lg leading-relaxed">
                When the event ends, the agreed outcome is submitted. If both
                parties agree, the process continues instantly.
              </p>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="flex flex-col md:flex-row gap-6 items-start">
            <div
              class="flex-shrink-0 w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center text-secondary font-bold text-xl border border-secondary/30"
            >
              4
            </div>
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-2 text-white">
                Dispute? We Step In (If Needed)
              </h3>
              <p class="text-gray-300 text-lg leading-relaxed">
                If there’s a disagreement, a single appeal can be raised.
                Middleman reviews the evidence based strictly on the original
                terms.
              </p>
            </div>
          </div>

          <!-- Step 5 -->
          <div class="flex flex-col md:flex-row gap-6 items-start">
            <div
              class="flex-shrink-0 w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-xl border border-primary/30"
            >
              5
            </div>
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-2 text-white">
                Winner Gets Paid
              </h3>
              <p class="text-gray-300 text-lg leading-relaxed">
                Once resolved, the winner receives the full payout
                automatically. Middleman only charges a transparent service fee.
              </p>
            </div>
          </div>
        </div>

        <!-- Why This Works -->
        <div
          class="max-w-3xl mx-auto bg-white/5 border border-white/10 rounded-2xl p-8 md:p-12 text-center mb-16"
        >
          <h3 class="text-3xl font-bold mb-8 gradient-text">Why This Works</h3>
          <ul
            class="grid sm:grid-cols-2 gap-4 text-left mb-8 max-w-2xl mx-auto"
          >
            <li class="flex items-center space-x-3">
              <svg
                class="w-6 h-6 text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
              <span class="text-lg text-gray-300"
                >No trust required between parties</span
              >
            </li>
            <li class="flex items-center space-x-3">
              <svg
                class="w-6 h-6 text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
              <span class="text-lg text-gray-300">No early withdrawals</span>
            </li>
            <li class="flex items-center space-x-3">
              <svg
                class="w-6 h-6 text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
              <span class="text-lg text-gray-300">No bias</span>
            </li>
            <li class="flex items-center space-x-3">
              <svg
                class="w-6 h-6 text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
              <span class="text-lg text-gray-300">No hidden rules</span>
            </li>
          </ul>
          <p class="text-xl font-medium text-white">
            Just fair outcomes, enforced by escrow.
          </p>
        </div>

        <!-- CTA -->
        <div class="text-center">
          <div class="flex flex-col sm:flex-row justify-center gap-4">
            <a
              href="midman://app/create-challenge"
              class="btn-primary px-8 py-4 rounded-xl text-lg font-bold shadow-lg hover:shadow-primary/50 transition-all"
            >
              Create a Wager
            </a>
            <a
              href="midman://app/create-agreement"
              class="px-8 py-4 rounded-xl border border-white/20 hover:bg-white/10 transition-colors text-lg font-bold"
            >
              Start an Agreement
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-20" x-data="{ active: null }">
      <div class="container mx-auto px-6 max-w-3xl">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
          Frequently Asked Questions
        </h2>

        <div class="space-y-4">
          <!-- FAQ Item 1 -->
          <div
            class="border border-white/10 rounded-xl overflow-hidden bg-white/5"
          >
            <button
              @click="active === 1 ? active = null : active = 1"
              class="w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none"
            >
              <span class="font-semibold text-lg"
                >How does Middleman work?</span
              >
              <svg
                class="w-5 h-5 transform transition-transform duration-200"
                :class="{'rotate-180': active === 1}"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </button>
            <div
              x-show="active === 1"
              x-collapse
              class="px-6 pb-4 text-gray-400"
            >
              Middleman acts as a neutral third party. When you create a wager,
              both parties deposit funds into a secure escrow. Once the outcome
              is verified by both sides (or a third-party judge), the funds are
              automatically released to the winner.
            </div>
          </div>

          <!-- FAQ Item 2 -->
          <div
            class="border border-white/10 rounded-xl overflow-hidden bg-white/5"
          >
            <button
              @click="active === 2 ? active = null : active = 2"
              class="w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none"
            >
              <span class="font-semibold text-lg">Is my money safe?</span>
              <svg
                class="w-5 h-5 transform transition-transform duration-200"
                :class="{'rotate-180': active === 2}"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </button>
            <div
              x-show="active === 2"
              x-collapse
              class="px-6 pb-4 text-gray-400"
            >
              Yes. We use industry-standard encryption and secure payment
              processing. Funds are held in a segregated account and are never
              used for operational expenses.
            </div>
          </div>

          <!-- FAQ Item 3 -->
          <div
            class="border border-white/10 rounded-xl overflow-hidden bg-white/5"
          >
            <button
              @click="active === 3 ? active = null : active = 3"
              class="w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none"
            >
              <span class="font-semibold text-lg">Are there any fees?</span>
              <svg
                class="w-5 h-5 transform transition-transform duration-200"
                :class="{'rotate-180': active === 3}"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </button>
            <div
              x-show="active === 3"
              x-collapse
              class="px-6 pb-4 text-gray-400"
            >
              We charge a small service fee on the winning pot to cover
              transaction costs and platform maintenance. The exact fee
              percentage is displayed before you confirm any agreement.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-10 border-t border-white/10 mt-10">
      <div class="container mx-auto px-6 text-center">
        <p class="text-gray-500 mb-4">
          &copy; 2026 Middleman. All rights reserved.
        </p>
        <div
          class="flex flex-wrap items-center justify-center gap-6 text-sm text-gray-400"
        >
          <a href="/privacy" class="hover:text-white transition-colors"
            >Privacy Policy</a
          >
          <a href="/terms" class="hover:text-white transition-colors"
            >Terms and Conditions</a
          >
          <a
            href="mailto:support@midman.app"
            class="hover:text-white transition-colors"
            >Contact Support</a
          >
        </div>
      </div>
    </footer>
    <!-- App Not Installed Modal -->
    <div
      x-data="{ show: false, link: '' }"
      @open-app-modal.window="show = true; link = $event.detail"
      class="relative z-[100]"
      aria-labelledby="modal-title"
      role="dialog"
      aria-modal="true"
      x-show="show"
      style="display: none"
    >
      <!-- Backdrop -->
      <div
        x-show="show"
        x-transition:enter="ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity"
      ></div>

      <!-- Modal Panel -->
      <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
        <div
          class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"
        >
          <div
            x-show="show"
            x-transition:enter="ease-out duration-300"
            x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
            x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
            x-transition:leave="ease-in duration-200"
            x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
            x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
            @click.away="show = false"
            class="relative transform overflow-hidden rounded-2xl bg-[#01032D] border border-white/10 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg"
          >
            <div class="absolute right-0 top-0 hidden pr-4 pt-4 sm:block">
              <button
                type="button"
                class="rounded-md text-gray-400 hover:text-white focus:outline-none"
                @click="show = false"
              >
                <span class="sr-only">Close</span>
                <svg
                  class="h-6 w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
              </button>
            </div>

            <div class="px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
              <div class="sm:flex sm:items-start">
                <div
                  class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 sm:mx-0 sm:h-10 sm:w-10"
                >
                  <svg
                    class="h-6 w-6 text-primary"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"
                    />
                  </svg>
                </div>
                <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                  <h3
                    class="text-xl font-bold leading-6 text-white"
                    id="modal-title"
                  >
                    App Not Detected
                  </h3>
                  <div class="mt-2">
                    <p class="text-sm text-gray-300">
                      It looks like you don't have the Middleman app installed.
                      To access this feature, please download the app for your
                      device.
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="bg-black/20 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"
            >
              <button
                type="button"
                class="inline-flex w-full justify-center rounded-xl bg-primary px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-600 sm:w-auto mb-2 sm:mb-0 transition-colors"
              >
                Download for iOS
              </button>
              <button
                type="button"
                class="inline-flex w-full justify-center rounded-xl bg-white/10 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-white/20 sm:w-auto transition-colors"
              >
                Download for Android
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Deep Link Handler -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll('a[href^="midman://"]').forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            const href = link.getAttribute("href");
            const start = Date.now();

            // Try to open the app
            window.location.href = href;

            // Check if we should show the modal
            setTimeout(() => {
              // If the page is still visible after 1s, assume app didn't open
              if (!document.hidden) {
                window.dispatchEvent(
                  new CustomEvent("open-app-modal", { detail: href }),
                );
              }
            }, 1000);
          });
        });
      });
    </script>
  </body>
</html>
